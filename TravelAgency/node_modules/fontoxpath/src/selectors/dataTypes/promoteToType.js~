import createValueFromTypedValue from './createValueFromTypedValue';
import instanceOfType from './instanceOfType';

export default function promoteToType (value, type) {
	if (instanceOfType(value, 'xs:numeric')) {
		if (instanceOfType(value, 'xs:float')) {
			if (type === 'xs:double') {
				return createValueFromTypedValue(value.typedValue, 'xs:double');
			}
			return null;
		}
		if (instanceOfType(value, 'xs:decimal')) {
			if (type === 'xs:float') {
				return createValueFromTypedValue(value.typedValue, 'xs:float');
			}
			if (type === 'xs:double') {
				return createValueFromTypedValue(value.typedValue, 'xs:double');
			}
		}
		return null;
	}

	if (instanceOfType(value, 'xs:anyURI')) {
		if (type === 'xs:string') {
			return createValueFromTypedValue(value.typedValue, 'xs:string');
		}
	}
	return null;
}
