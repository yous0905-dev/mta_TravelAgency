import Selector from './Selector';
import Specificity from './Specificity';

/**
 * @extends {Selector}
 */
class VarRef extends Selector {
	/**
	 * @param  {string}  prefix
	 * @param  {string}  namespaceURI
	 * @param  {string}  name
	 * @param  {Selector[][]}  attributePairs
	 * @param  {Selector}  contents
	 */
	constructor (name, contents, attList) {
		super(new Specificity({}), {
			canBeStaticallyEvaluated: false,
			resultOrder: Selector.RESULT_ORDERINGS.UNSORTED
		});


	}

	evaluate (dynamicContext) {
		var value = dynamicContext.variables[this._variableName];
		if (!value) {
			throw new Error('XPST0008, The variable ' + this._variableName + ' is not in scope.');
		}

		return value();
	}
}

export default VarRef;
