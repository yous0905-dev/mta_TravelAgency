define([
	'../dataTypes/Sequence',
	'../dataTypes/BooleanValue',
	'../dataTypes/MapValue',
	'../dataTypes/StringValue',
	'../dataTypes/IntegerValue'
], function (
	Sequence,
	BooleanValue,
	MapValue,
	StringValue,
	IntegerValue
) {
	'use strict';

	function arraySize (_dynamicContext, arraySequence) {
		return Sequence.singleton(new IntegerValue(arraySequence.value[0].members.length));
	}

	return {
		declarations: [
			{
				name: 'array:size',
				argumentTypes: ['array(*)'],
				returnType: 'xs:integer',
				callFunction: arraySize
			}

		],
		functions: {
			size: mapSize
		}
	};
});
